<!--
C1 generated!!
Title = all keywords, max 65 chars
<title>Logging and Troubleshooting</title>
Description = all keywords + extra text
<meta name="Description" content="Logging and Troubleshooting on Asterisk systems" />
Url = all keywords, whitespace and forbidden characters replaced with - lower case, max 65 chars
url: logging-troubleshooting
-->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
</head>
<body lang="en-us" xml:lang="en-us">
	<f:function name="HolisticWare.Optimizations.SearchEngine.MetaTagsKeywords" xmlns:f="http://www.composite.net/ns/function/1.0">
		<!--
		Keywords = 
		-->
		<f:param name="KeywordsAdditional" value="Logging, Troubleshooting" />
		<f:param name="AuthorsAdditional" value="mcvjetko" />
		<f:param name="Date" value="2011-08-01" />
		<f:param name="Language" value="en" />
	</f:function>
	<h1><a id="">Logging and Troubleshooting</a></h1>
	<!-- ================================================================== -->
	<!--
	<f:function name="HolisticWare.Content.TableOfContents" xmlns:f="http://www.composite.net/ns/function/1.0" />
	-->


	<!-- ================================================================== -->
	<h2><a id="">SIP</a></h2>
	<p>
		tcpdump/wireshark
	</p>

	<p>
		SIP
	</p>
	<pre class="hw_code">
	tcpdump -i eth0 -n -s 0 port 5060 -vvv -w > somefile.txt
	</pre>

	<p>
		IAX
	</p>
	<pre class="hw_code">
	tcpdump -i eth0 -n -s 0 port 4569 -vvv -w > somefile.txt
	</pre>
	<!-- ================================================================== -->
	<h2><a id="">Asterisk</a></h2>
	<p>
		Start asterisk to log
	</p>
	<pre class="hw_code">
	/usr/sbin/asterisk -vvvvvv -g -dddddd -c
	</pre>

	<p>
		In console (at asterisk the CLI prompt)
	</p>
	<pre class="hw_code">
		iax2 debug" 
		
		sip debug
	</pre>

	<h3><a id="">Call log</a></h3>
	<p>
	Asterisk by default writes to the system log a complete call record, for example:
	</p>
	<pre class="hw_code">
	tail -f /var/log/asterisk/cdr-csv/Master.csv

	ls -al /var/log/asterisk/
	</pre>

	<h3><a id="">logger.conf</a></h3>
	<pre class="hw_code">
# grep -v '^;' /etc/asterisk/logger.conf
[general]
[logfiles]
console => notice,warning,error,dtmf
messages => notice,warning,error,verbose,dtmf,fax
	</pre>

</body>
</html>